function autoBindForms() { for (var t = document.body.Get(function (n) { return n.getAttribute("data-loadbinding") }), n = 0; n < t.length; n++) Binding.Load(t[n]) } function WindowLoad(n) { var t, i, r; document.readyState === "complete" ? (t = document.getElementById("progress"), t != null && Ajax && (Ajax.ProgressElement = t), autoBindForms()) : window.onload ? (i = window.onload, r = function () { var t = document.getElementById("progress"); t != null && Ajax && (Ajax.ProgressElement = t), i(n), autoBindForms() }, window.onload = r) : window.onload = function () { var n = document.getElementById("progress"); n != null && Ajax && (Ajax.ProgressElement = n), autoBindForms() } } var Thing, What, Is, Ajax, Formatters, RegularExpression, Local, Session, Calendar, Convert, Cookie, KeyPress, DialogType, DialogPosition, DialogProperties, Dialog, Binding, Bind; this.JSON || (this.JSON = {}), function () { function i(n) { return n < 10 ? "0" + n : n } function o(n) { return e.lastIndex = 0, e.test(n) ? '"' + n.replace(e, function (n) { var t = s[n]; return typeof t == "string" ? t : "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4) }) + '"' : '"' + n + '"' } function u(i, f) { var c, l, s, a, v = n, h, e = f[i]; e && typeof e == "object" && typeof e.toJSON == "function" && (e = e.toJSON(i)), typeof t == "function" && (e = t.call(f, i, e)); switch (typeof e) { case "string": return o(e); case "number": return isFinite(e) ? String(e) : "null"; case "boolean": case "null": return String(e); case "object": if (!e) return "null"; if (n += r, h = [], Object.prototype.toString.apply(e) === "[object Array]") { for (a = e.length, c = 0; c < a; c += 1) h[c] = u(c, e) || "null"; return s = h.length === 0 ? "[]" : n ? "[\n" + n + h.join(",\n" + n) + "\n" + v + "]" : "[" + h.join(",") + "]", n = v, s } if (t && typeof t == "object") for (a = t.length, c = 0; c < a; c += 1) l = t[c], typeof l == "string" && (s = u(l, e), s && h.push(o(l) + (n ? ": " : ":") + s)); else for (l in e) Object.hasOwnProperty.call(e, l) && (s = u(l, e), s && h.push(o(l) + (n ? ": " : ":") + s)); return s = h.length === 0 ? "{}" : n ? "{\n" + n + h.join(",\n" + n) + "\n" + v + "}" : "{" + h.join(",") + "}", n = v, s } } typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function () { return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + i(this.getUTCMonth() + 1) + "-" + i(this.getUTCDate()) + "T" + i(this.getUTCHours()) + ":" + i(this.getUTCMinutes()) + ":" + i(this.getUTCSeconds()) + "Z" : null }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () { return this.valueOf() }); var f = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, e = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, n, r, s = { "\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" }, t; typeof JSON.stringify != "function" && (JSON.stringify = function (i, f, e) { var o; if (n = "", r = "", typeof e == "number") for (o = 0; o < e; o += 1) r += " "; else typeof e == "string" && (r = e); if (t = f, f && typeof f != "function" && (typeof f != "object" || typeof f.length != "number")) throw new Error("JSON.stringify"); return u("", { "": i }) }), typeof JSON.parse != "function" && (JSON.parse = function (text, reviver) { function walk(n, t) { var r, u, i = n[t]; if (i && typeof i == "object") for (r in i) Object.hasOwnProperty.call(i, r) && (u = walk(i, r), u !== undefined ? i[r] = u : delete i[r]); return reviver.call(n, t, i) } var j; if (text = String(text), f.lastIndex = 0, f.test(text) && (text = text.replace(f, function (n) { return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4) })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({ "": j }, "") : j; throw new SyntaxError("JSON.parse"); }) }(), Array.prototype.Add = function (n) { n.length || (n = [n]); for (var t = 0; t < n.length; t++) this.push(n[t]) }, Array.prototype.First = function (n) { for (var r = -1, e = Is.Function(n), u, i, f, t = 0; t < this.length; t++) { if (u = this[t], i = !0, e) i = n(u), i && (r = t); else { for (f in n) if (n[f] != u[f]) { i = !1; break } i && (r = t) } if (r > -1) return this[r] } return null }, Array.prototype.GroupBy = function () { for (var i = [], r, u, n, e, f, o, t = 0; t < arguments.length - 0; t++) i[t] = arguments[t + 0]; for (r = [], u = 0; u < this.length; u++) if (n = this[u], e = r.First(function (t) { for (var u = !0, r = 0; r < i.length; r++) if (t[i[r]] != n[i[r]]) { u = !1; break } return u }), e) e.Grouping.push(n); else { f = { Grouping: [] }; for (o in n) f[o] = n[o]; f.Grouping.push(n), r.push(f) } return r }, Array.prototype.IndexOf = function (n) { var t = -1, u = Is.Function(n), i, r; if (u) { for (t = 0; t < this.length; t++) if (n(this[t])) return t } else for (t = 0; t < this.length; t++) { i = !0; for (r in n) if (n[r] != this[t][r]) { i = !1; break } if (i) return t } return t }, Array.prototype.Insert = function (n, t) { t == undefined && (t = 0), t > this.length && (t = this.length), this.splice(t, 0, n) }, Array.prototype.Remove = function (n) { for (var u = [], o = Is.Function(n), f, r, e, i, s, t = 0; t < this.length; t++) { if (f = this[t], r = !0, o) r = n(f); else for (e in n) if (n[e] != f[e]) { r = !1; break } r && u.push(t) } for (i = u.length - 1, s = i > -1; i > -1;) this.splice(u[i], 1), i--; return this }, Array.prototype.Sum = function (n) { for (var r = 0, i, t = 0; t < this.length; t++) i = this[t], i[n] && (r += i[n]); return r }, Array.prototype.ToArray = function (n) { for (var r = [], i, t = 0; t < this.length; t++) i = this[t], i[n] && r.push(i[n]); return r }, Array.prototype.Where = function (n) { for (var f = [], e = Is.Function(n), r, t, u, i = 0; i < this.length; i++) { if (r = this[i], t = !0, e) t = n(r); else { t = !0; for (u in n) if (n[u] != r[u]) { t = !1; break } } t && f.push(r) } return f }, Date.prototype.format = function (n, t) { return Formatters.DateTime.Format(this, n, t) }, Date.prototype.ShortDate = function () { return this.format("mm/dd/yyyy") }, Date.prototype.Equals = function (n) { return this.getMonth() == n.getMonth() && this.getFullYear() == n.getFullYear() && this.getDate() == n.getDate() }, Date.prototype.AddDays = function (n) { var i = this.getFullYear(), r = this.getMonth(), t = this.getDate(), u = this.getHours(), f = this.getMinutes(), e = this.getSeconds(), o = this.getMilliseconds(); return t = t + n, new Date(i, r, t, u, f, e, o) }, Date.prototype.DaysInMonth = function () { return 32 - new Date(this.getFullYear(), this.getMonth(), 32).getDate() }, Date.prototype.MonthName = function () { switch (this.getMonth()) { case 0: return "January"; case 1: return "February"; case 2: return "March"; case 3: return "April"; case 4: return "May"; case 5: return "June"; case 6: return "July"; case 7: return "August"; case 8: return "September"; case 9: return "October"; case 10: return "November"; case 11: return "December"; default: return "Unknown" } }, Date.prototype.DaysDiff = function (n) { var t = Math.abs(this - n); return t / 864e5 }, Date.prototype.MinuteDiff = function (n) { var t = Math.abs(this - n); return t / 36e5 }, Element.prototype.Popup = function (n, t, i) { Dialog.Popup(this, n, t, i) }, Element.prototype.Modal = function (n, t, i, r) { Dialog.Modal(this, n, t, i, r) }, Element.prototype.Quick = function (n, t) { Dialog.Quick(this, n, t) }, Element.prototype.Dialog = function (n) { var t = new DialogProperties(this, Thing.GetValueIn(n, "DialogType", DialogType.Standard), Thing.GetValueIn(n, "Target"), Thing.GetValueIn(n, "HideInterval"), Thing.GetValueIn(n, "Position", DialogPosition.MiddleOfWindow), Thing.GetValueIn(n, "ModalClass"), Thing.GetValueIn(n, "OffSetX"), Thing.GetValueIn(n, "OffSetY")); Dialog.Standard(t) }, HTMLElement.prototype.Bind = function (n) { Bind(this, n) }, HTMLElement.prototype.Set = function (n) { var r = this, t, i, u; if (n) for (t in n) i = t, i != "cls" && i != "className" ? (u = Is.Style(i), u ? r.style[i] = n[t] : t == "style" ? n.style.cssText && (r.style.cssText = n.style.cssText) : r[i] = n[t]) : r.SetClass(n[t]); return r }, HTMLElement.prototype.AddListener = function (n, t) { Is.InternetExplorer() ? this.addEventListener(n, t) : this.attachEvent(n, t) }, HTMLElement.prototype.Clear = function (n, t) { var f = this, r = f.childNodes, i, u; if (n) for (i = 0; i < r.length; i++) r[i].nodeType == 1 && (u = r[i], n(u) ? f.removeChild(u) : t || u.Clear(n, t)); else f.removeChild(r[i]) }, HTMLElement.prototype.Delete = function (n) { var i = this, t = i.First(n); t && t.Remove() }, HTMLElement.prototype.AddRange = function () { for (var i = [], r, t, u, n = 0; n < arguments.length - 0; n++) i[n] = arguments[n + 0]; for (r = this, t = 0; t < i.length; t++) u = i[t], r.appendChild(u); return r }, HTMLElement.prototype.DimAndOff = function () { var n = { Height: 0, Width: 0, Top: 0, Left: 0 }, t = this.Dimensions(), i = this.OffSet(); return n.Height = t.height, n.Width = t.width, n.Top = i.top, n.Left = i.left, n }, HTMLElement.prototype.Dimensions = function () { var n = this, t = { width: 0, height: 0 }, i, r; if (t.width = n.offsetWidth, t.height = n.offsetHeight, t.height == 0 && n.style.height) t.height = Convert.EmValueToPixelValue(n.style.height), n.style.paddingTop && (t.height += Convert.EmValueToPixelValue(n.style.paddingTop)), n.style.paddingBottom && (t.height += Convert.EmValueToPixelValue(n.style.paddingBottom)); else if (t.height == 0) { for (i = 0; i < n.childNodes.length; i++) n.childNodes[i].nodeType == 1 && (r = n.childNodes[i].Dimensions(), r.height && (t.height += r.height)); n.style.paddingTop && (t.height += Convert.EmValueToPixelValue(n.style.paddingTop)), n.style.paddingBottom && (t.height += Convert.EmValueToPixelValue(n.style.paddingBottom)) } if (t.width == 0 && n.style.width) t.width = Convert.EmValueToPixelValue(n.style.width), n.style.paddingLeft && (t.width += Convert.EmValueToPixelValue(n.style.paddingLeft)), n.style.paddingRight && (t.width += Convert.EmValueToPixelValue(n.style.paddingRight)); else if (t.width == 0) { for (i = 0; i < n.childNodes.length; i++) n.childNodes[i].nodeType == 1 && (r = n.childNodes[i].Dimensions(), r.width && r.width > t.width && (t.width = r.width)); n.style.paddingLeft && (t.width += Convert.EmValueToPixelValue(n.style.paddingLeft)), n.style.paddingRight && (t.width += Convert.EmValueToPixelValue(n.style.paddingRight)) } return t }, HTMLElement.prototype.OffSet = function () { for (var i = 0, t = 0, n = this; n && !isNaN(n.offsetLeft) && !isNaN(n.offsetTop) ;) i += n.offsetLeft - n.scrollLeft, t += n.offsetTop - n.scrollTop, n = n.offsetParent; return { top: t, left: i } }, HTMLElement.prototype.Parent = function (n) { return n(this.parentNode) ? this.parentNode : this.parentNode.Parent(n) }, HTMLElement.prototype.SetClass = function (n) { this.className = null, this.className = n }, HTMLElement.prototype.Get = function (n, t, i) { var o, s, u, r, f, e; for (i == null && (i = []), o = Is.Function(n), s = this, u = 0; u < s.childNodes.length; u++) if (this.childNodes[u].nodeType == 1) if (r = this.childNodes[u], o) f = n(r), f && i.push(r), t || r.Get(n, t, i); else if (n) { f = !0; for (e in n) if (r[e] != n[e]) { f = !1; break } f && i.push(r), t || r.Get(n, t, i) } else r.nodeType == 1 && i.push(r); return i }, HTMLElement.prototype.Remove = function () { this.parentNode.removeChild(this) }, HTMLElement.prototype.First = function (n) { var o = Is.Function(n), s = this, i = s.childNodes, u, e, f, t, r; if (o) { for (t = 0; t < i.length; t++) if (i[t].nodeType == 1 && (u = n(i[t]), u)) return i[t] } else if (n) for (u = !0, t = 0; t < i.length; t++) if (r = i[t], r.nodeType == 1) { for (e in n) if (r[e] != n[e]) { u = !1; break } if (u) return r[t] } if (f = null, n) for (t = 0; t < i.length; t++) if (r = i[t], r.nodeType == 1 && (f = r.First(n), f)) return f; return null }, HTMLSelectElement.prototype.AddOptions = function (n, t, i, r) { var u = this, f, e, o; if (Is.Array(n)) { if (i && t) for (f = 0; f < this.length; f++) u.options[u.options.length] = new Option(e[i], e[t]), r && e[t] == r && (u.options[u.options.length - 1].selected = "true"); else if (this.length > 1 && Is.String(this[0])) for (f = 0; f < this.length; f++) e = this[f], u.options[u.options.length] = new Option(e, e), r && e == r && (u.options[u.options.length - 1].selected = "true") } else if (Is.Object(n)) for (o in n) Is.Function(o) && (u.options[u.options.length] = new Option(o, o), r && r == o && (u.options[u.options.length - 1].selected = "selected")); return u }, HTMLSelectElement.prototype.AddOptionsViaObject = function (n, t, i) { var u = this, f, e, r; if (i) for (r in n) u.options[u.options.length] = new Option(r, n[r]), t && t == n[r] && (u.options[u.options.length - 1].selected = "selected"); else { f = []; for (r in n) Is.Numeric(n[r]) && f.push(r); for (f = f.sort(), e = 0; e < f.length; e++) r = f[e], u.options[u.options.length] = new Option(r, n[r]), t != undefined && t == n[r] && (u.options[u.options.length - 1].selected = "selected") } }, String.prototype.Update = function (n, t, i, r) { Ajax.HttpAction("PUT", this, n, t, i, r) }, String.prototype.Delete = function (n, t, i, r) { Ajax.HttpAction("DELETE", this, n, t, i, r) }, String.prototype.ParialUpdate = function (n, t, i, r) { Ajax.HttpAction("PATCH", this + "/PartialUpdate", n, t, i, r) }, String.prototype.Select = function (n, t, i, r) { Ajax.HttpAction("PATCH", this + "/Select", n, t, i, r) }, String.prototype.Insert = function (n, t, i, r) { Ajax.HttpAction("Post", this, n, t, i, r) }, String.prototype.ParseHtml = function () { var u = [], n = this, r = this.match(/(<script[^>]*>[\s\S]*?<\/script>)/gi), t, i; if (r) { for (t = 0; t < r.length; t++) u.push(r[t]), n = n.replace(r[t], ""); n = n.replace(/(\r\n|\n|\r)/gm, "") } return i = { Html: n, Scripts: u, LoadScripts: function () { for (var u, n, f, e, t, r = 0; r < i.Scripts.length; r++) u = i.Scripts[r].replace(/<script[^>]*>/gi, ""), u = u.replace(/<\/script>/gi, ""), n = i.Scripts[r].match(/id=('|")(.*?)('|")/g), f = null, n && (n = n[0].replace(/(\"|')/gi, ""), n = n.replace("id=", ""), f = n, n = document.getElementById(n) ? !0 : !1), !n && u && (e = document.getElementsByTagName("head")[0], t = document.createElement("script"), t.setAttribute("type", "text/javascript"), t.IsTemporary = !0, f && t.setAttribute("id", f), t.textContent = u, e.appendChild(t)) } } }, String.prototype.Trim = function () { return this.replace(/^\s+|\s+$/g, "") }, String.prototype.TrimCharacters = function (n, t) { var i = this, r; return n && i.indexOf(n) == 0 && (i = i.substring(1)), t && (r = i.substring(i.length - 1), r == t && (i = i.substring(0, i.length - 1))), i }, String.prototype.LeftTrim = function () { return this.replace(/^\s+/, "") }, String.prototype.RightTrim = function () { return this.replace(/\s+$/, "") }, String.prototype.E = function () { var n = document.getElementById(this.toString()); return n ? n : null }, String.prototype.CreateObject = function () { return JSON.parse(this) }, String.prototype.ScriptReplace = function (n, t, i) { return i || (i = RegularExpression.StandardBindingWrapper), t || (t = RegularExpression.StandardBindingPattern), RegularExpression.Replace(t, this, n, i) }, String.prototype.SplitOnUpperCase = function () { if (this && this.length > 0) { var n = this.match(/[A-Z][a-z]+/g); if (n) return n.join(" ") } return this }, String.prototype.CreateElement = function (n) { var t = document.createElement(this); return t.Set(n), t }, Window.prototype.Dimensions = function () { var n = { Height: 0, Width: 0 }, t = window; return typeof t.innerWidth != "undefined" ? (n.Width = t.innerWidth, n.Height = t.innerHeight) : typeof document.documentElement != "undefined" && typeof document.documentElement.clientWidth != "undefined" && document.documentElement.clientWidth != 0 ? (n.Width = document.documentElement.clientWidth, n.Height = document.documentElement.clientHeight) : (n.Width = document.getElementsByTagName("body")[0].clientWidth, n.Height = document.getElementsByTagName("body")[0].clientHeight), n }, Window.prototype.PushState = function (n, t, i) { history && history.pushState && (Is.Array(i) ? i = "/" + i.join("/") : i ? i.indexOf("/") != 0 && (i = "/" + i) : i = "/", history.pushState(n, t, i)) }, Window.prototype.ShortDate = function () { var n = new Date; return new Date(n.getFullYear(), n.getMonth(), n.getDate(), 0, 0, 0, 0) }, Window.prototype.Sleep = function (n) { for (var t = new Date, i = new Date; i.getMilliseconds() - t.getMilliseconds() < n;); }, Window.prototype.MousePosition = function (n) { return event || n ? Is.InternetExplorer() ? { X: event.clientX + document.body.scrollLeft, Y: event.clientY + document.body.scrollTop } : { X: n.pageX, Y: n.pageY } : { X: 0, Y: 0 } }, Window.prototype.UniqueID = function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (n) { var t = Math.random() * 16 | 0, i = n == "x" ? t : t & 3 | 8; return i.toString(16) }).replace("-", "").substring(0, 16) }, Window.prototype.SplitPathName = function (n) { var u = [], t = window.location.pathname, r, i; return n == undefined && (n = -1), t = t.substring(1), r = t.charAt(t.length - 1), r == "/" && (t = t.substring(0, t.length - 1)), i = t.split("/"), n > -1 ? i[n] : i }, Window.prototype.PageLoaded = function (n, t) { if (document.readyState === "complete") n(); else if (window.onload) { var i = window.onload, r = function () { i(t), n() }; window.onload = r } else window.onload = function () { n() } }, WindowLoad(), function (n) { function t(n, t) { var i, r; for (i in n) r = n[i], r, t[i] = n[i]; return t } function i(n) { var i = {}, t; for (t in n) i[t] = n[t]; return i } function r(n, t, i) { var f = [], u, r; t || (t = "Name"), i || (i = "Value"); for (u in n) r = {}, r[t] = u, r[i] = n[u], f.push(r); return f } function u(n, t) { for (var u = "", r, i = 0; i < t.length; i++) Is.Property(t[i], n) && (r = n[t[i]], r && (u += r.toString())); return u } function f(n, t, i) { return n[t] ? n[t] : i ? i : null } n.Merge = t, n.Clone = i, n.ToArray = r, n.Concat = u, n.GetValueIn = f }(Thing || (Thing = {})), function (n) { (function (n) { function t(n, t) { for (var i in n) if (n[i] == t) return i; return null } n.EnumName = t })(n.Is || (n.Is = {})); var t = n.Is }(What || (What = {})), function (n) { function y(n, t) { try { return typeof t[n] != "undefined" } catch (i) { } return !1 } function r(n) { return n instanceof r } function v(n) { if (n.toLowerCase() == "true" || n.toLowerCase() == "false") return !0 } function a(n) { try { if (t.prototype.toString.call(n) === "[object Date]") return isNaN(n.getTime()) ? !1 : !0; if (i(n)) { var u = new Date(n), r = n.split("/"), f = parseInt(r[2]), e = parseInt(r[0].indexOf("0") == 0 ? r[0].substring(1) : r[0]), o = parseInt(r[1].indexOf("0") == 0 ? r[1].substring(1) : r[1]); return u.getFullYear() != f ? !1 : u.getMonth() != e - 1 ? !1 : u.getDate() != o ? !1 : !0 } } catch (s) { } return !1 } function l(n) { return n && n.tagName } function c(n) { for (var i in n) if (t.prototype.hasOwnProperty.call(n, i)) return !1; return !0 } function h(n, t, i) { var r, u; if (n == t) return !0; if (t > n) return !1; if (t == 0 && !i) return !0; for (r = [0, 1]; n >= r[r.length - 1];) r.push(r[r.length - 1] * 2); for (r.splice(r.length - 1, 1), u = !1; !u && t <= r[r.length - 1];) if (t == r[r.length - 1]) u = !0; else for (n -= r[r.length - 1]; r[r.length - 1] > n;) if (r.splice(r.length - 1, 1), r.length == 0) break; return u } function s() { return navigator ? /Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent) : !1 } function o(n) { var t = {}; return n && t.toString.call(n) === "[object Function]" } function e() { return '\v' == "v" } function f(n) { return n == null ? !0 : n.length == 0 ? !0 : void 0 } function u(n) { var t = /^-{0,1}\d*\.{0,1}\d+$/; return t.test(n) } function t(n) { return n instanceof t } function i(n) { return typeof n == "string" } function p(n) { return n in document.body.style } function w(n) { var t = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/; return t.test(n) == !1 ? !1 : !0 } n.Property = y, n.Array = r, n.Boolean = v, n.ValidDate = a, n.Element = l, n.EmptyObject = c, n.EnumValueContainedIn = h, n.FireFox = s, n.Function = o, n.InternetExplorer = e, n.NullOrEmpty = f, n.Numeric = u, n.Object = t, n.String = i, n.Style = p, n.ValidEmail = w }(Is || (Is = {})), function (n) { function t(u) { var e = null, o, f, s; if (Is.Array(u)) for (o = 0; o < u.length; o++) { if (f = u[o], f) { try { e == null && (e = n.getKeyMap(f)) } catch (h) { alert(h) } n.setValues(f, e) } for (s in f) n.ConvertProperties(f[s]) } else if (Is.Object(u)) { e = i(u), r(u, e); for (s in u) t(u[s]) } } function u(t, i, r, u, f) { n.HttpAction("DELETE", t, i, r, u, f) } function i(n) { var r = [], i, t; for (i in n) t = n[i], t && Is.String(t) && (t = t.Trim(), t.indexOf("/Date(") == 0 || t.indexOf("Date(") == 0 ? r.push({ Key: i, Type: "Date" }) : t.match(RegularExpression.UTCDate) ? r.push({ Key: i, Type: "UTCDate" }) : t.match(RegularExpression.ZDate) && r.push({ Key: i, Type: "ZDate" })); return r } function f(t, i) { t.readyState == 4 && (n.HideProgress(), t.status == 404 ? i("404 file not found.") : t.status == 500 ? i("500 error.") : i("Unhandled status:" + t.status)) } function e() { if (n.ProgressElement != null && (n.ProgressElement.style.display = "none"), n.DisableElement) if (Is.Array(n.DisableElement)) for (var t = 0; t < n.DisableElement.length; t++) n.DisableElement[t].removeAttribute("disabled"); else n.DisableElement.removeAttribute("disabled") } function o(t, i, r, u, f, e, o) { var s = function (t) { var i = t, r; if (o || i == "null" || (i = JSON.parse(i), i.d && (i = i.d), n.AutoConvert && n.ConvertProperties(i)), e) if (Is.Array(e)) e.splice.apply(e, [e.length, 0].concat(i)), u && u(); else if (e.tagName && e.tagName.toLowerCase() == "select") { for (r = 0; r < i.length; r++) e.options[e.options.length] = new Option(i[r].Text, i[r].Value); u && u(i) } else Is.Object(e) && (Thing.Merge(i, e), u && u()); else e == null && u && u(i) }; n.Submit(t, i, r, s, f, "application/json; charset=utf-8") } function s(t, i) { n.DisableElement = t, !n.ProgressElement && i && (n.ProgressElement = i.E()) } function h(t, i, r, u, f) { n.HttpAction("POST", t, i, r, u, f) } function c(t, i, r, u, f) { n.HttpAction("PUT", t, i, r, u, f) } function l() { for (var r = [], u, f, i, t = 0; t < arguments.length - 0; t++) r[t] = arguments[t + 0]; for (u = window.SplitPathName(0).toLowerCase(), f = window.location.href.replace(window.location.pathname, ""), i = 0; i < r.length; i++) if (r[i].toLowerCase() == u) { n.Host = f + "/" + r[i], !0; break } } function r(n, t) { for (var r = 0; r < t.length; r++) { var u = t[r].Key, f = t[r].Type, i = n[u]; switch (f) { case "Date": i ? (i = i.substring(6), i = i.replace(")/", ""), i = parseInt(i), i > -621355752e5 ? (i = new Date(i), n[u] = i) : delete n[u]) : n[u] = new Date; break; case "UTCDate": case "ZDate": i = new Date(i), i = new Date(i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()), n[u] = i } } } function a() { if (n.ProgressElement && (n.ProgressElement.style.display = "inline"), n.DisableElement) if (Is.Array(n.DisableElement)) for (var t = 0; t < n.DisableElement.length; t++) n.DisableElement[t].setAttribute("disabled", "disabled"); else n.DisableElement.setAttribute("disabled", "disabled") } function v(t, i, r, u, f, e) { var c, o, h, l, s; if (f || (f = function (n) { throw new Error(n); }), c = i, n.ShowProgress(), i.indexOf("http") == -1 && n.Host != "" && (c = n.Host + (i.indexOf("/") == 0 ? i : "/" + i)), o = new XMLHttpRequest, o) { o.onreadystatechange = function () { o.readyState == 4 && (o.status == 200 || o.status == 204) ? (n.HideProgress(), u(o.responseText)) : n.HandleOtherStates(o, f) }, o.open(t, c, !0), e && o.setRequestHeader("content-type", e); try { if (r) { h = {}; for (l in r) h[l] = r[l]; s = h == null ? "{}" : JSON.stringify(h), s = s.replace(/\\\"__type\\\"\:\\\"[\w+\.?]+\\\"\,/g, ""), s = s.replace(/\"__type\"\:\"[\w+\.?]+\"\,/g, ""), o.send(s) } else o.send() } catch (a) { n.HideProgress(), f(a.message) } } } n.Host = "", n.AutoConvert = !0, n.ProgressElement = null, n.DisableElement = null, n.ConvertProperties = t, n.Delete = u, n.getKeyMap = i, n.HandleOtherStates = f, n.HideProgress = e, n.HttpAction = o, n.Initialize = s, n.Insert = h, n.Update = c, n.Resolver = l, n.setValues = r, n.ShowProgress = a, n.Submit = v, function (t) { function i(t, i, r) { var u = sessionStorage.getItem(t); u ? i(u) : n.HttpAction("GET", t, {}, function (n) { sessionStorage.setItem(t, n), i(n) }, function () { r("Failed to retrieve html for " + t) }, null, !0) } t.Retrieve = i }(n.View || (n.View = {})); var y = n.View }(Ajax || (Ajax = {})), function (n) { var t, i; (function (n) { function t(n, t) { for (n = String(n), t = t || 2; n.length < t;) n = "0" + n; return n } function i(t, i, r) { if (arguments.length != 1 || Object.prototype.toString.call(t) != "[object String]" || /\d/.test(t) || (i = t, t = undefined), t = t ? new Date(t) : new Date, isNaN(t)) throw SyntaxError("invalid date"); i = String(n.Masks[i] || i || n.Masks["default"]), i.slice(0, 4) == "UTC:" && (i = i.slice(4), r = !0); var u = r ? "getUTC" : "get", h = t[u + "Date"](), c = t[u + "Day"](), e = t[u + "Month"](), l = t[u + "FullYear"](), f = t[u + "Hours"](), a = t[u + "Minutes"](), v = t[u + "Seconds"](), o = t[u + "Milliseconds"](), s = r ? 0 : t.getTimezoneOffset(), y = { d: h, dd: n.Pad(h), ddd: n.i18n.dayNames[c], dddd: n.i18n.dayNames[c + 7], m: e + 1, mm: n.Pad(e + 1), mmm: n.i18n.monthNames[e], mmmm: n.i18n.monthNames[e + 12], yy: String(l).slice(2), yyyy: l, h: f % 12 || 12, hh: n.Pad(f % 12 || 12), H: f, HH: n.Pad(f), M: a, MM: n.Pad(a), s: v, ss: n.Pad(v), l: n.Pad(o, 3), L: n.Pad(o > 99 ? Math.round(o / 10) : o), t: f < 12 ? "a" : "p", tt: f < 12 ? "am" : "pm", T: f < 12 ? "A" : "P", TT: f < 12 ? "AM" : "PM", Z: r ? "UTC" : (String(t).match(n.Timezone) || [""]).pop().replace(n.TimezoneClip, ""), o: (s > 0 ? "-" : "+") + n.Pad(Math.floor(Math.abs(s) / 60) * 100 + Math.abs(s) % 60, 4) }; return i.replace(n.Token, function (n) { return n in y ? y[n] : n.slice(1, n.length - 1) }) } n.Token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g, n.Timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g, n.TimezoneClip = /[^-+\dA-Z]/g, n.i18n = { dayNames: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"] }, n.Masks = { "default": "ddd mmm dd yyyy HH:MM:ss", shortDate: "m/d/yy", mediumDate: "mmm d, yyyy", longDate: "mmmm d, yyyy", fullDate: "dddd, mmmm d, yyyy", shortTime: "h:MM TT", mediumTime: "h:MM:ss TT", longTime: "h:MM:ss TT Z", isoDate: "yyyy-mm-dd", isoTime: "HH:MM:ss", isoDateTime: "yyyy-mm-dd'T'HH:MM:ss", isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'" }, n.Pad = t, n.Format = i })(n.DateTime || (n.DateTime = {})), t = n.DateTime, function (n) { function t(n) { n += ""; for (var i = n.split("."), t = i[0], u = i.length > 1 ? "." + i[1] : "", r = /(\d+)(\d{3})/; r.test(t) ;) t = t.replace(r, "$1,$2"); return t + u } function i(n, t) { for (var i = "" + n; i.length < t;) i = "0" + i; return i } n.Comma = t, n.Pad = i }(n.Number || (n.Number = {})), i = n.Number }(Formatters || (Formatters = {})), function (n) { function t(t, i, r) { var s = i.match(t), e, o, f; if (s) { for (e = [], f = 0; f < s.length; f++) e.push({ Match: s[f], PropertyName: s[f].replace(n.StandardBindingWrapper, "") }); if (Is.Array(r)) { for (f = 0; f < e.length; f++) for (o = 0; o < r.length; o++) if (r[o] && r[o].hasOwnProperty(e[f].PropertyName)) { i = i.replace(e[f].Match, r[o][e[f].PropertyName]); break } } else for (f = 0; f < e.length; f++) r && r.hasOwnProperty(e[f].PropertyName) && (i = i.replace(e[f].Match, r[e[f].PropertyName])) } return i } n.StandardBindingWrapper = /{|}/g, n.StandardBindingPattern = /{(\w+(\.\w+)*)}/g, n.MethodPattern = /\w+(\.\w+)*\(/g, n.ObjectAndMethod = /{(\w+(\.\w+)*)}\.\w+\(\)/g, n.ObjectMethod = /\.\w+\(\)/g, n.ParameterPattern = /\(.*(,\s*.*)*\)/g, n.ZDate = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/g, n.UTCDate = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i, n.Replace = t }(RegularExpression || (RegularExpression = {})), function (n) { function t() { try { return localStorage ? !0 : !1 } catch (n) { return !1 } } function i(t) { n.CanStore() && (localStorage.removeItem(t), delete n.Dictionary[t]) } function r() { n.CanStore() && (localStorage.clear(), n.Dictionary = {}) } function u(t, i) { var r = n.Dictionary[i], u; r ? r[i] = t : r = n.Dictionary[i] = t, n.CanStore() && (u = JSON.stringify(t), localStorage.setItem(r[i], u)) } function f(t, i) { try { var r = null, u = n.Dictionary[t]; return u ? r = u : n.CanStore() && (Is.Property(t, localStorage) && (r = localStorage.getItem(t)), r != null && r != "undefined" ? (r = JSON.parse(r), Ajax.ConvertProperties(r)) : i && (r = i)), !u && r && (n.Dictionary[t] = r), r } catch (f) { throw f; } } n.Dictionary = {}, n.CanStore = t, n.Remove = i, n.Clear = r, n.Save = u, n.Get = f }(Local || (Local = {})), function (n) { function t() { try { return sessionStorage ? !0 : !1 } catch (n) { return !1 } } function i(t) { n.CanStore() && (sessionStorage.removeItem(t), delete n.Dictionary[t]) } function r() { n.CanStore() && (sessionStorage.clear(), n.Dictionary = {}) } function u(t, i) { var r = n.Dictionary[i], u; r ? r[i] = t : r = n.Dictionary[i] = t, n.CanStore() && (u = JSON.stringify(t), sessionStorage.setItem(r[i], u)) } function f(t, i) { try { var r = null, u = n.Dictionary[t]; return u ? r = u : n.CanStore() && (localStorage.hasOwnProperty(t) && (r = sessionStorage.getItem(t)), r != null && r != "undefined" ? (r = JSON.parse(r), Ajax.ConvertProperties(r)) : i && (r = i)), !u && r && (n.Dictionary[t] = r), r } catch (f) { throw f; } } n.Dictionary = {}, n.CanStore = t, n.Remove = i, n.Clear = r, n.Save = u, n.Get = f }(Session || (Session = {})), function (n) { function i(n, i, r, u, f, e, o, s, h, c, l, a, v, y, p) { var w = new t(n, i, r, u, f, e, o, s, h, c, l, a, v, y, p) } function r(t, i) { var r = "div".CreateElement(n.Format.Cell), u, f; return t != null && (r.title = t.format("mmmm dd, yyyy"), u = "a".CreateElement({ innerHTML: t.getDate(), href: "javascript:" }), u.onclick = function () { var n, u; i.SelectedDate.getMonth() != t.getMonth() && i.MonthChangeEvent ? (i.RequestedDate = t, i.MonthChanged = !0, i.MonthChangeEvent(t, i.MonthChangedCallBack)) : (n = i.SelectedDateControl, i.Set(t), i.SelectedDateControl && i.FormatCellMethod && (u = i.FormatCellMethod(t), r.className = u), n && i.FormatCellMethod && (u = i.FormatCellMethod(n.Date), n.className = u), i.SelectedDateControl = r) }, r.appendChild(u), t.Equals(i.SelectedDate) && (i.SelectedDateControl = r), i.FormatCellMethod && (f = i.FormatCellMethod(t), f && (r.className = f))), r } function u(t, i) { var r = "div".CreateElement(n.Format.Cell), f, u; if (r.Set(i), t && t.substring) r.innerHTML = t; else if (Is.Array(t)) for (f = 0; f < t.length; f++) u = t[f], Is.String(u) ? r.appendChild("span".CreateElement({ innerHTML: u })) : Is.Element(u) && r.appendChild(u); else Is.Element(t) && r.appendChild(t); return r } function f(n, t, i) { var u = "li".CreateElement({}), f = "div".CreateElement({}), r; return u.appendChild(f), r = "a".CreateElement({ innerHTML: n, href: "javascript:" }), f.appendChild(r), r.onclick = function () { i(t) }, u } function e(n, t) { var r = "li".CreateElement({}), u = "div".CreateElement({}), i; return r.appendChild(u), i = "a".CreateElement({ innerHTML: n, href: "javascript:" }), u.appendChild(i), i.onclick = function () { t(n) }, r } n.Format = { Table: { display: "table", borderCollapse: "collapse", listStyleType: "none", margin: "0px 0px", padding: "0px 0px", width: "100%" }, Row: { display: "table-row", listStyle: "none" }, Cell: { display: "table-cell", textAlign: "center" } }; var t = function () { function t(n, t, i, r, u, f, e, o, s, h, c, l, a, v, y) { this.SelectedDate = window.ShortDate(), this.RequestedDate = new Date, this.SelectedDateControl = null, this.PreviousDateControl = null, this.MonthChanged = !1, this.CalElement = n, this.SelectedDateChanged = t, this.FormatCellMethod = i, this.MonthChangeEvent = r, this.HeaderClass = u, this.RowsClass = f, this.DayOfWeekClass = e, this.DateRowClass = o, this.MonthClass = s, this.YearClass = h, this.NavigateClass = c, this.DefaultDateClass = l, this.MonthPopupClass = a, this.YearPopupClass = v, this.CalendarBuiltEvent = y, this.Build(), t && this.SelectedDateChanged(this.SelectedDate) } return t.prototype.Set = function (n) { var i = n.getMonth() != this.SelectedDate.getMonth() || n.getFullYear() != this.SelectedDate.getFullYear(), t; this.SelectedDate = n, i ? this.Build() : (t = this.CalElement.First(function (t) { return t.tagName.toLowerCase() == "div" && t.Date && t.Date.Equals(n) }), t && (this.SelectedDateControl = t)), this.SelectedDateChanged && this.SelectedDateChanged(this.SelectedDate) }, t.prototype.MonthChangedCallBack = function (n) { n && (this.MonthChanged = !1, this.Set(this.RequestedDate)) }, t.prototype.MonthNameClicked = function (n) { if (n != this.SelectedDate.getMonth()) { var t = n, i = this.SelectedDate.getFullYear(), r = new Date(i, t, 1); for (this.RequestedDate = new Date(i, t, this.SelectedDate.getDate()) ; this.RequestedDate.getMonth() > r.getMonth() ;) this.RequestedDate = this.RequestedDate.AddDays(-1); this.MonthChangeEvent ? (this.MonthChanged = !0, this.MonthChangeEvent(this.RequestedDate, this.MonthChangedCallBack)) : this.Set(this.RequestedDate) } }, t.prototype.YearNameClicked = function (n) { if (n != this.SelectedDate.getFullYear()) { var t = n, i = this.SelectedDate.getMonth(); for (this.RequestedDate = new Date(t, i, this.SelectedDate.getDate()) ; this.RequestedDate.getMonth() > this.SelectedDate.getMonth() ;) this.RequestedDate = this.RequestedDate.AddDays(-1); this.MonthChangeEvent ? (this.MonthChanged = !0, this.MonthChangeEvent(this.RequestedDate, this.MonthChangedCallBack)) : this.Set(this.RequestedDate) } }, t.prototype.Build = function () { var s, h, c, u, f, l, e, a, r; this.CalElement.Clear(), s = "ul".CreateElement(n.Format.Table), this.HeaderClass && (s.className = this.HeaderClass), h = "a".CreateElement({ innerHTML: "&lt;", href: "javascript:" }), h.onclick = function () { var n = this.SelectedDate.getMonth(), t = this.SelectedDate.getFullYear(); for (n == 0 ? (t--, n = 11) : n--, this.RequestedDate = new Date(t, n, this.SelectedDate.getDate()) ; this.RequestedDate.getMonth() == this.SelectedDate.getMonth() ;) this.RequestedDate = this.RequestedDate.AddDays(-1); this.MonthChangeEvent ? (this.MonthChanged = !0, this.MonthChangeEvent(this.RequestedDate, this.MonthChangedCallBack)) : this.Set(this.RequestedDate) }, c = "a".CreateElement({ innerHTML: "&gt;", href: "javascript:" }), c.onclick = function () { var n = this.SelectedDate.getMonth(), t = this.SelectedDate.getFullYear(); for (n == 11 ? (n = 0, t++) : n++, this.RequestedDate = new Date(t, n, this.SelectedDate.getDate()) ; this.RequestedDate.getMonth() > this.SelectedDate.getMonth() + 1;) this.RequestedDate = this.RequestedDate.AddDays(-1); this.MonthChangeEvent ? (this.MonthChanged = !0, this.MonthChangeEvent(this.RequestedDate, this.MonthChangedCallBack)) : this.Set(this.RequestedDate) }, this.NavigateClass && (h.className = this.NavigateClass, c.className = this.NavigateClass), u = "a".CreateElement({ innerHTML: this.SelectedDate.MonthName(), marginRight: ".25em", href: "javascript:" }), u.onclick = function () { var r = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], i = "ul".CreateElement({ id: "workoutMonthpopup", Target: u }), t; for (this.MonthPopupClass ? i.className = this.MonthPopupClass : i.Set(n.Format.Table), t = 0; t < r.length; t++) i.appendChild(n.MonthItem(r[t], t, this.MonthNameClicked)) }, f = "a".CreateElement({ innerHTML: this.SelectedDate.getFullYear(), marginLeft: ".25em", href: "javascript:" }), f.onclick = function () { var t = [], r = (new Date).getFullYear(), i = this.SelectedDate.getFullYear(), o, u, e; for (i >= r ? (t.push(r - 4), t.push(r - 3), t.push(r - 2), t.push(r - 1), t.push(+r)) : (o = r - i, o > 1 ? (t.push(i - 2), t.push(i - 1), t.push(i), t.push(i + 1), t.push(i + 2)) : (t.push(i - 3), t.push(i - 2), t.push(i - 1), t.push(i), t.push(i + 1))), u = "ul".CreateElement({ id: "workoutYearpopup", Target: f }), this.YearPopupClass ? u.className = this.YearPopupClass : u.Set(n.Format.Table), e = 0; e < t.length; e++) u.appendChild(n.YearItem(t[e], this.YearNameClicked)) }, this.MonthClass && (u.className = this.MonthClass), this.YearClass && (f.className = this.YearClass), l = "li".CreateElement(n.Format.Row), s.appendChild(l), l.AddRange(n.HeaderCell(h), n.HeaderCell([u, f]), n.HeaderCell(c)), this.CalElement.appendChild(s), e = "ul".CreateElement(n.Format.Table), this.RowsClass && (e.className = this.RowsClass), this.CalElement.appendChild(e); var o = 0, v = this.SelectedDate.DaysInMonth(), t = new Date(this.SelectedDate.getFullYear(), this.SelectedDate.getMonth(), 1), i = "li".CreateElement(n.Format.Row); for (e.appendChild(i), this.DayOfWeekClass && (i.className = this.DayOfWeekClass), i.AddRange(n.HeaderCell("Su"), n.HeaderCell("M"), n.HeaderCell("T"), n.HeaderCell("W"), n.HeaderCell("Th"), n.HeaderCell("F"), n.HeaderCell("Sa")), i = "li".CreateElement(n.Format.Row), r = t.getDay(), r != 0 && (t = t.AddDays(r * -1)), a = !1; !a;) o == 0 && (this.DateRowClass && (i.className = this.DateRowClass), e.appendChild(i)), r = t.getDay(), r == 6 && (t.getMonth() > this.SelectedDate.getMonth() || t.getFullYear() > this.SelectedDate.getFullYear() || t.getDate() == v) && (a = !0), o == r && (i.appendChild(n.DateCell(t, this)), t = t.AddDays(1)), o++, o == 7 && (i = "li".CreateElement(n.Format.Row), o = 0); this.CalendarBuiltEvent && this.CalendarBuiltEvent() }, t }(); n.cal = t, n.Create = i, n.DateCell = r, n.HeaderCell = u, n.MonthItem = f, n.YearItem = e }(Calendar || (Calendar = {})), function (n) { function t(n) { return n && n.substring && n.indexOf("em") && (n = n.replace("em", ""), n = parseFloat(n)), n } function i(n) { return n ? n = t(n) * 16 : 0 } n.EmToFloat = t, n.EmValueToPixelValue = i }(Convert || (Convert = {})), function (n) { function t(n, t, i) { var r, u; i ? (r = new Date, r.setTime(r.getTime() + i * 864e5), u = "; expires=" + r.toUTCString()) : u = "", document.cookie = n + "=" + t + u + "; path=/" } function i(n) { for (var r = n + "=", u = document.cookie.split(";"), t, i = 0; i < u.length; i++) { for (t = u[i]; t.charAt(0) == " ";) t = t.substring(1, t.length); if (t.indexOf(r) == 0) return t.substring(r.length, t.length) } return null } function r(t) { n.Create(t, "", -1) } n.Create = t, n.Read = i, n.Erase = r }(Cookie || (Cookie = {})), function (n) { function t(n) { switch (n) { case 1: case 0: return String(n); default: return "0" + String(n) + "/" } } function i(n, t) { return t == 0 ? "0" + String(n) + "/" : n > 3 ? "01/0" + String(n) + "/" : n == 3 ? "01/3" : "1" + String(n) + "/" } function r(n, t) { return n > 3 ? t + "0" + String(n) + "/" : t + String(n) } function u(n, t, i) { return i == 3 && n > 1 ? String(t).substring(0, String(t).length - 1) + "03/" + String(n) : t + n + "/" } function f(n, t) { var i = !0, r = null, f = null, e = !0, u, o, s; return window.event ? (r = window.event.keyCode, f = window.event.srcElement, e = window.event.shiftKey, n = window.event) : n && (r = n.which, f = n.srcElement, e = n.shiftKey), u = String.fromCharCode(r), t ? u == " " && (i = !1, n.cancel = !0) : (o = /[a-z0-9]/gi, s = o.test(u), s || (i = !1, n.cancel = !0)), window.event && (n.returnValue = i), i } function e(t) { var r = null, i = null, h = !0, f, c, s, o, e; window.event ? (r = window.event.keyCode, i = window.event.srcElement, h = window.event.shiftKey) : t && (r = t.which, i = t.srcElement, h = t.shiftKey), i.onclick || (i.onclick = function () { i.focus(), i.select() }), i.onfocus || (i.onfocus = function () { i.select() }), i.onblur || (i.onblur = function () { if (i.value.length != 0) { if (i.value.length == 8) { var n = i.value.substring(6, 8); i.value = n.indexOf("9") == 0 ? i.value.substring(0, 6) + "19" + n : i.value.substring(0, 6) + "20" + n } Is.ValidDate(i.value) || (alert("Please enter a valid date."), i.focus()) } }); var l = String.fromCharCode(r), u = !0, a = i.value.length; if (r >= n.ADCONTROL_ZERO && r <= n.ADCONTROL_NINE) { i.value.length == 10 && (i.value = ""), f = parseInt(l); switch (a) { case 0: u = !1, i.value = n.GetZeroLengthString(f); break; case 1: u = !1, i.value = n.GetOneLengthString(f, i.value); break; case 3: u = !1, i.value = n.GetThreeLengthString(f, i.value); break; case 4: u = !1, i.value = n.GetFourLengthString(f, i.value, i.PreviousValue) } return i.PreviousValue = f, event && (event.returnValue = u), u } if (r == 13) { if (i.tabIndex) for (c = parseInt(i.tabIndex) + 1, s = document.getElementsByTagName("*"), o = 0; o < s.length; o++) if (e = s[o], e.tabIndex == c) { e.focus(), e.type && e.type == "text" && e.select(); break } } else return !1 } function o(n, t, i) { var f = null, r = null, l = !0, a, c, s, e, o; window.event ? (f = window.event.keyCode, r = window.event.srcElement, l = window.event.shiftKey) : n && (f = n.which, r = n.srcElement, l = n.shiftKey); var h = String.fromCharCode(f), u = !0, v = r.value.length, y = r.value.indexOf(".") > -1; if (f == 13) { if (r.tabIndex && i) for (a = parseInt(r.tabIndex) + 1, c = document.getElementsByTagName("*"), s = 0; s < c.length; s++) if (e = c[s], e.tabIndex == a) { e.focus(), e.type && e.type == "text" && e.select(); break } } else f >= 48 && f <= 57 ? u = !0 : h == "." && t ? r.value.indexOf(".") > -1 && (o = "", window.getSelection ? o = window.getSelection().toString() : document.getSelection ? o = document.getSelection().toString() : document.selection && (o = document.selection.createRange().text), o.length != r.value.length && (u = !1)) : h != "." || t ? h == "-" ? r.value != "" && (u = !1) : u = !1 : u = !1; return event && (event.returnValue = u), u } n.ADCONTROL_ZERO = 48, n.ADCONTROL_ONE = 49, n.ADCONTROL_TWO = 50, n.ADCONTROL_THREE = 51, n.ADCONTROL_FOUR = 52, n.ADCONTROL_FIVE = 53, n.ADCONTROL_SIX = 54, n.ADCONTROL_SEVEN = 55, n.ADCONTROL_EIGHT = 56, n.ADCONTROL_NINE = 57, n.GetZeroLengthString = t, n.GetOneLengthString = i, n.GetThreeLengthString = r, n.GetFourLengthString = u, n.NoBlanks = f, n.ShortDate = e, n.Number = o }(KeyPress || (KeyPress = {})), function (n) { n[n.Modal = 0] = "Modal", n[n.Popup = 1] = "Popup", n[n.Quick = 2] = "Quick", n[n.Standard = 3] = "Standard" }(DialogType || (DialogType = {})), function (n) { n[n.MiddleOfWindow = 0] = "MiddleOfWindow", n[n.Below = 1] = "Below", n[n.Above = 2] = "Above", n[n.Manual = 100] = "Manual" }(DialogPosition || (DialogPosition = {})), DialogProperties = function () { function n(n, t, i, r, u, f, e, o) { this.DialogType = t, this.Target = i, this.Container = n, this.Container.DialogProperties = this, this.OffSetX = Convert.EmValueToPixelValue(e), this.OffSetY = Convert.EmValueToPixelValue(o), this.IsActive = !1, this.Interval = null, this.Modal = null, this.ModalClass = f, this.HideInterval = r == null ? this.DialogType == DialogType.Popup || this.DialogType == DialogType.Quick ? Dialog.DefaultHideInterval : -1 : r, this.Position = u != DialogPosition.Manual ? u == null && this.Target == null ? DialogPosition.MiddleOfWindow : u == null && this.Target != null ? DialogPosition.Below : u : DialogPosition.Manual } return n }(), function (n) { function u(n, i, r, u) { t(n, DialogType.Popup, i, u, r) } function f(n, i, r, u, f) { t(n, DialogType.Modal, f, u, r, i) } function e(i, r, u) { t(i, DialogType.Quick, r, n.DefaultHideInterval, u) } function i(t) { var i = t.Container, u; r(i, t), t.DialogType == DialogType.Modal && (u = window.Dimensions(), t.Modal = "div".CreateElement({ cls: t.ModalClass }), t.Modal.style.height = u.Height.toString() + "px", t.Modal.style.display = "block", t.Modal.style.left = "0px", t.Modal.style.top = "0px", t.Modal.style.width = u.Width.toString() + "px", t.Modal.style.position = "absolute", document.body.appendChild(t.Modal)), document.body.appendChild(i), t.HideInterval > -1 && (i.AddListener(Is.InternetExplorer() ? "onmouseover" : "mouseover", function () { t.IsActive = !0 }), i.AddListener(Is.InternetExplorer() ? "onmouseout" : "mouseout", function () { t.IsActive = !1 }), t.Interval = setInterval(function () { t.IsActive || n.Hide(i) }, t.HideInterval)) } function t(n, t, r, u, f, e) { var o = new DialogProperties(n, t, r, u, f, e); i(o) } function r(n, t) { var r = 0, u = 0, f = n.Dimensions(), e, i; switch (t.Position) { case DialogPosition.MiddleOfWindow: e = window.Dimensions(), u = (e.Height - f.height) / 2, r = (e.Width - f.width) / 2; break; case DialogPosition.Below: i = t.Target.DimAndOff(), u = i.Top + i.Height, r = i.Left; break; case DialogPosition.Above: i = t.Target.DimAndOff(), u = i.Top - f.height, r = i.Left } t.Position != DialogPosition.Manual && (t.OffSetX && (r += t.OffSetX), t.OffSetY && (u += t.OffSetY), n.style.left = r.toString() + "px", n.style.top = u.toString() + "px", n.style.position = "absolute") } function o(n) { var t, r, i; Is.String(n) ? (r = n, t = r.E()) : Is.Element(n) && (t = n), t && (i = t.DialogProperties, i.HideInterval > -1 && clearInterval(i.Interval), i.Modal && i.Modal.Remove(), t.Remove()) } n.DefaultHideInterval = 1500, n.Popup = u, n.Modal = f, n.Quick = e, n.Standard = i, n.Show = t, n.SetPosition = r, n.Hide = o }(Dialog || (Dialog = {})), function (n) { function f(t, i) { var r, u, f; t.DataObject = i, t.getAttribute("data-binding") ? (u = t.getAttribute("data-binding"), t.Wrapper = new n.Wrapper(u), Is.String(t.Wrapper.NewRowBeingAdded) && (t.Wrapper.NewRowBeingAdded = new Function("obj", "return " + t.Wrapper.NewRowBeingAdded + "(obj);")), Is.String(t.Wrapper.RequestChange) && (t.Wrapper.RequestChange = new Function("obj", "target", "value", "return " + t.Wrapper.RequestChange + "(obj, target, value);")), t.removeAttribute("data-binding"), r = t.Wrapper) : t.Wrapper ? r = t.Wrapper : t.Wrapper || (t.Wrapper = r), f = t.tagName.toLowerCase(), f != "ul" || r.IsForm ? n.subExecute(t, r) : n.Grid.Execute(t, i) } function e(t, i, r) { for (var e = n.Get.BoundElements(t), u, o, s, f = 0; f < e.length; f++) u = e[f], u.DataBound || (i.BindingArray.length == f && (o = u.getAttribute("data-binding").Trim(), i.BindingArray.push({ Attributes: n.Get.Attributes(o, u) })), u.removeAttribute("data-binding")), i.BindingArray.length > f && (s = i.BindingArray[f].Attributes, u != r && n.Set.SetBinding(u, i, s)), u.DataBound = !0; i.RowBinding && n.Set.SetBinding(t, i, i.RowBinding) } function s(t) { var e = t.getAttribute("data-loadbinding"), i, u, f, r; t.Wrapper = new n.Wrapper(e), Is.String(t.Wrapper.NewRowBeingAdded) && (t.Wrapper.NewRowBeingAdded = new Function("obj", "return " + t.Wrapper.NewRowBeingAdded + "(obj);")), t.removeAttribute("data-loadbinding"), i = t.Wrapper, i && i.WebApi && i.GetParameter ? (i.GetParameter = i.GetParameter.Trim(), i.GetParameter.indexOf("return") == -1 && (i.GetParameter = "return " + i.GetParameter), i.GetParameter.lastIndexOf(";") < i.GetParameter.length - 1 && (i.GetParameter += ";"), Is.String(i.GetParameter) && (r = new Function(i.GetParameter), u = r(), r = null), f = function () { i.WebApi.Select(u, function (n) { Bind(t, n) }, function () { }) }, u && (i.PrebindAction ? (r = new Function("exe", i.PrebindAction + "(exe);"), r(f)) : f())) : i.PrebindAction && (r = new Function("exe", i.PrebindAction + "(exe);"), r(function () { })) } var t, i, r, u, o; n.Attributes = { OnClick: "onclick", OnFocus: "onfocus", Value: "value", InnerHTML: "innerHTML", For: "for", ID: "id", Checked: "checked", Src: "src", Href: "href", Style: "style", Class: "class", DisplayMember: "displaymember", ValueMember: "valuemember", ObjectSource: "objectsource", DataSource: "datasource", DataSourceMethod: "datasourcemethod", Radio: "radio", Prechange: "prechange", OnChange: "onchange", TargetProperty: "targetproperty", Formatting: "formatting" }, t = function () { function n(n, t, i, r) { this.Name = n, this.Value = t, this.EasyBindable = i, this.IsReturn = r, this.InlineMatches = [] } return n.prototype.ExecuteReturn = function () { return null }, n }(), n.Attribute = t, i = function () { function n(n) { this.WebApi = null, this.PrimaryKeys = [], this.NewRowBeingAdded = null, this.DataChanged = null, this.RequestChange = null, this.ExceptionEvent = null, this.ExceptionMethod = null, this.BindingArray = [], this.GetParameter = null, this.IsPatch = !1, this.CanDelete = !1, this.PrebindAction = null, this.RowBinding = null, this.IsForm = !1, n && Is.String(n) && (n = JSON.parse(n)), Thing.Merge(n, this) } return n }(), n.Wrapper = i, function (t) { function i(n, t) { var i; switch (t.length) { case 0: return i = new Function(n), i(); case 1: return i = new Function("obj0", n), i(t[0]); case 2: return i = new Function("obj0", "obj1", n), i(t[0], t[1]); case 3: return i = new Function("obj0", "obj1", "obj2", n), i(t[0], t[1], t[2]); case 4: return i = new Function("obj0", "obj1", "obj2", "obj3", n), i(t[0], t[1], t[2], t[3]); case 5: return i = new Function("obj0", "obj1", "obj2", "obj3", "obj4", n), i(t[0], t[1], t[2], t[3], t[4]); default: return null } } function r(n) { var t, i; return n = n.replace(RegularExpression.StandardBindingWrapper, ""), t = { Extended: n, Target: n }, n.indexOf(".") > -1 && (i = n.split("."), t.Target = i[i.length - 1]), t } function u(n) { return n.Get(function (n) { return n.getAttribute("data-binding") || n.DataBound }) } function f(t, i, r) { var u = null, e, f; if (r || (r = t), t.DataObject ? u = t.DataObject : t.parentNode.DataObject ? u = t.parentNode.DataObject : t.parentNode && (u = n.Get.Object(t.parentNode, i, r)), i && u && t == r && i.indexOf(".") > -1) for (e = i.split("."), f = 0; f < e.length; f++) if (Is.Property(e[f], u)) f + 1 < e.length && (u = u[e[f]]); else { u = null; break } return u } function e(n) { return n.Parent(function (n) { return n.DataObject }) } function o(t) { var i = t.parentNode; return i.Wrapper ? i.Wrapper : t.parentNode ? n.Get.Wrapper(i) : null } function s(t) { var i = t.parentNode; return i.Wrapper ? i.Wrapper.PrimaryKeys : i ? n.Get.PrimaryKey(i) : null } function h(n) { var t = n.getAttribute("data-binding"), r = { LineType: null, InsertPosition: null }, u, i; if (t) if (t = t.Trim(), t.indexOf("{") == 0) r = JSON.parse(t); else for (t = t.split("::"), u = 0; u < t.length; u++) i = t[u].split(":"), i.length == 1 ? r.LineType = i[0].Trim() : r[i[0].Trim()] = i[1].Trim(); return r } function c(n, t) { var e = [], i = null, u, o, f, r; if (Is.String(n) && n.indexOf("{") == 0 && n.substring(n.length - 1) == "}" ? i = JSON.parse(n) : Is.Object(n) && (i = n), i && t) for (u in i) Is.Function(i[u]) || (r = this.Attribute({ Name: u, Value: i[u] }, t), r && e.push(r)); else if (Is.String(n) && t) for (o = n.split("::"), f = 0; f < o.length; f++) r = this.Attribute(o[f], t), r && e.push(r); return e } function l(t, i, r, u) { if (t) if (Is.String(t)) { var f = t.match(RegularExpression.StandardBindingPattern), e = t.indexOf("return") == 0 || t.match(RegularExpression.MethodPattern); e && n.Get.ReturnValue(t, i, f) } else t(r, u) } function a(t, i, r) { var e = [], s = null, c = t.match(RegularExpression.ObjectAndMethod), u = t, f, o, h; if (u = t, u.substring(0, 6) != "return" && (u = "return " + u), u.substring(u.length - 1) != ";" && (u += ";"), r) for (f = 0; f < r.length; f++) r[f] == "{obj}" ? (e.push(n.Get.Object(i)), u = u.replace("{obj}", "obj" + f.toString())) : r[f] == "{sender}" ? (e.push(i), u = u.replace("{sender}", "obj" + f.toString())) : (o = n.Get.ExtendedProperty(r[f]), h = n.Get.Object(i, o.Extended), e.push(h[o.Target]), u = u.replace(r[f], "obj" + f.toString())); return s = n.Get.InlineReturn(u, e) } function v(t, i) { var u = null, o, f, s, h, r, e; if (Is.String(t)) if (u = t.split(":"), u.length == 1) { o = i.tagName.toLowerCase(), f = u[0]; switch (o) { case "input": s = i, h = s.type.toLowerCase(); switch (h) { case "button": u = { Name: n.Attributes.OnClick, Value: f }; break; case "checkbox": u = { Name: n.Attributes.Checked, Value: f }; break; case "radio": u = { Name: n.Attributes.Radio, Value: f }; break; case "text": case "password": case "hidden": u = { Name: n.Attributes.Value, Value: f } } break; case "textarea": case "select": u = { Name: n.Attributes.Value, Value: f }; break; case "label": u = { Name: n.Attributes.For, Value: f }; break; case "img": u = { Name: n.Attributes.Src, Value: f }; break; case "a": case "div": case "span": u = { Name: n.Attributes.InnerHTML, Value: f }; break; case n.Attributes.Formatting: case n.Attributes.TargetProperty: u = { Name: n.Attributes.TargetProperty, Value: f } } } else u = { Name: u[0], Value: u[1] }; else u = t; if (u) { if (r = new n.Attribute(u.Name, u.Value, !1, !1), e = r.Name.toLowerCase(), r.InlineMatches = r.Value.match(RegularExpression.StandardBindingPattern), Is.Style(r.Name)) r.EasyBindable = !0; else switch (e) { case "objectsource": case "datasource": case "datasourcemethod": case "valuemember": case "displaymember": case "checked": case "radio": case "onchange": case "prechange": case "targetproperty": case "formatting": r.Name = e, r.EasyBindable = !1; break; case "class": r.Name = "className", r.EasyBindable = !0; break; case "innerhtml": r.EasyBindable = !0, r.Name = "innerHTML"; break; case "value": case "for": case "id": case "onclick": case "src": case "href": case "style": default: r.Name = e, r.EasyBindable = !0 } return r.IsReturn = r.InlineMatches != null || r.Name == n.Attributes.OnClick || r.Value.indexOf("return ") == 0, r.IsReturn && (r.ExecuteReturn = function (t) { return n.Get.ReturnValue(r.Value, t, r.InlineMatches) }), r } return null } t.InlineReturn = i, t.ExtendedProperty = r, t.BoundElements = u, t.Object = f, t.BoundParent = e, t.Wrapper = o, t.PrimaryKey = s, t.TemplateAttributes = h, t.Attributes = c, t.DataChanged = l, t.ReturnValue = a, t.Attribute = v }(n.Get || (n.Get = {})), r = n.Get, function (t) { function i(t, i, r) { var u, f, e, o, s; try { for (u = 0; u < r.length; u++) f = r[u], f.EasyBindable && n.Set.AttributeValue(t, f); e = t.tagName.toLowerCase(); switch (e) { case "input": o = t, s = o.type.toLowerCase(); switch (s) { case "checkbox": n.Set.Checked(t, i, r); break; case "radio": n.Set.Radio(t, i, r); break; case "text": case "password": case "hidden": default: n.Set.OnChange(t, i, r) } break; case "textarea": n.Set.OnChange(t, i, r); break; case "select": n.Set.DataSource(t, i, r), n.Set.OnChange(t, i, r) } } catch (h) { i.ExceptionMethod && i.ExceptionMethod(h) } } function r(t, i) { var r = i.Value, u, o, e, f; if (i.Name == n.Attributes.OnClick) t.onclick = function () { return i.ExecuteReturn(t) }; else if (i.Name == "onmouseover") t.onmouseover = function () { return i.ExecuteReturn(t) }; else if (i.Name == "onmouseout") t.onmouseout = function () { return i.ExecuteReturn(t) }; else if (i.Name == n.Attributes.OnFocus) t.onfocus = function () { return i.ExecuteReturn(t) }; else { if (i.InlineMatches && !i.IsReturn) for (u = 0; u < i.InlineMatches.length; u++) f = n.Get.ExtendedProperty(i.InlineMatches[u]), e = n.Get.Object(t, f.Extended), e != null && (o = e[f.Target], r = r.replace(i.InlineMatches[u], o)); else i.IsReturn ? r = i.ExecuteReturn(t) : (e = n.Get.Object(t, i.Value.Trim()), f = n.Get.ExtendedProperty(i.Value.Trim()), r = e[f.Target]); i.Name == "for" ? t.setAttribute("for", r) : Is.Property(i.Name, t) ? t[i.Name] = r : Is.Style(i.Name) ? t.style[i.Name] = r : (i.Name == "classname" || i.Name == "cls") && (t.className = r) } } function u(t) { var i = n.Get.BoundParent(t), r = n.Get.Wrapper(t); n.subExecute(i, r, t) } function f(t, i, r) { var f = r.First({ Name: n.Attributes.Value }), u; i || (i = new n.Wrapper), u = t, u.onchange || (u.onchange = function () { var l = !0, s = !1, e = n.Get.ExtendedProperty(f.Value), o = n.Get.Object(t, e.Extended), a = r.First({ Name: n.Attributes.TargetProperty }), h, c; a && (e.Target = a.Value, o = n.Get.Object(t, e.Target)), o && (h = r.First({ Name: n.Attributes.Prechange }), h && h.ExecuteReturn(t), i.RequestChange && (l = i.RequestChange(o, e.Target, u.value)), l ? (s = !0, o[e.Target] = u.value, i.WebApi ? i.WebApi.Update(o, function (f) { var h, l, c; f && Is.Property(e.Target, f) && (u.value = f[e.Target], o[e.Target] = u.value, Thing.Merge(f, o), h = r.First({ Name: n.Attributes.Formatting }), h && (l = h.ExecuteReturn(t), u.value = l), s && (c = r.First({ Name: n.Attributes.OnChange }), c ? c.ExecuteReturn(t) : n.Get.DataChanged(i.DataChanged, t, o, e.Target)), n.Set.Cascade(t)) }, function (n) { i.ExceptionEvent && i.ExceptionEvent(n, o, e.Target) }) : (s && (c = r.First({ Name: n.Attributes.OnChange }), c ? c.ExecuteReturn(t) : n.Get.DataChanged(i.DataChanged, t, o, e.Target)), n.Set.Cascade(t))) : Is.Property(e.Target, o) && (u.value = o[e.Target])) }) } function e(t, i, r) { var o = r.First({ Name: n.Attributes.Checked }); i || (i = new n.Wrapper); var f = t, u = n.Get.ExtendedProperty(o.Value), e = n.Get.Object(t, u.Extended); f.checked = Is.Property(u.Target, e) ? e[u.Target] ? !0 : !1 : null, f.onclick || (f.onclick = function () { var o = !1, s = !1, e = n.Get.Object(t, u.Extended), a, h, c, l; f.checked && (o = !0), a = e[u.Target] ? e[u.Target] : !1, a != o && (h = !0, c = r.First({ Name: n.Attributes.Prechange }), c && c.ExecuteReturn(t), i.RequestChange && (h = i.RequestChange(e, u.Target, o)), h ? (s = !0, e[u.Target] = o, i.WebApi ? i.WebApi.Update(e, function (o) { if (o && Is.Property(u.Target, o)) { if (f.checked = o[u.Target] ? !0 : !1, e[u.Target] = o[u.Target], Thing.Merge(o, e), s) { var h = r.First({ Name: n.Attributes.OnChange }); h ? h.ExecuteReturn(t) : n.Get.DataChanged(i.DataChanged, t, e, u.Target) } n.Set.Cascade(t) } }, function (n) { i.ExceptionEvent && i.ExceptionEvent(n, e, u.Target) }) : (s && (l = r.First({ Name: n.Attributes.OnChange }), l ? l.ExecuteReturn(t) : n.Get.DataChanged(i.DataChanged, t, e, u.Target)), n.Set.Cascade(t))) : Is.Property(u.Target, e) && (f.checked = e[u.Target])) }) } function o(t, i, r) { var o = r.First({ Name: n.Attributes.Radio }), f, u, e; i || (i = new n.Wrapper), f = t, o && (u = n.Get.ExtendedProperty(o.Value), e = n.Get.Object(t, u.Extended), f.checked = Is.Property(u.Target, e) && f.value == e[u.Target] ? !0 : null, f.onclick || (f.onclick = function () { var h = !1, c = !1, l = !0, e = n.Get.Object(t, u.Extended), o, a, s; f.checked && (h = !0), o = r.First({ Name: n.Attributes.Prechange }), o && o.ExecuteReturn(t), a = e[u.Target] ? e[u.Target] == f.value : !1, a != h && (i.RequestChange && (l = i.RequestChange(e, u.Target, f.value)), l && (c = !0, e[u.Target] = f.value, i.WebApi && i.WebApi.Update(e, function (n) { n && Is.Property(u.Target, n) && (e[u.Target] = n[u.Target], e[u.Target] != f.value && (f.checked = !1), Thing.Merge(n, e)) }, function (n) { i.ExceptionEvent && i.ExceptionEvent(n, e, u.Target) }), c && (s = r.First({ Name: n.Attributes.OnChange }), s ? s.ExecuteReturn(t) : n.Get.DataChanged(i.DataChanged, t, e, u.Target)), n.Set.Cascade(t))) })) } function s(t, i, r) { var h, c, f, l, a, e, v, y; i || (i = new n.Wrapper); var p = r.First({ Name: n.Attributes.Value }), o = n.Get.ExtendedProperty(p.Value), s = n.Get.Object(t, o.Extended), u; Is.Property(o.Target, s) && (u = s[o.Target]), h = r.First({ Name: n.Attributes.ValueMember }), c = r.First({ Name: n.Attributes.DisplayMember }), f = t, t.Clear(), r.First({ Name: n.Attributes.DataSource }) ? (l = r.First({ Name: n.Attributes.DataSource }), e = new Function("return " + l.Value + ";"), f.AddOptions(e(), h.Value, c.Value, u)) : r.First({ Name: n.Attributes.ObjectSource }) ? (a = r.First({ Name: n.Attributes.ObjectSource }), e = new Function("return " + a.Value + ";"), f.AddOptionsViaObject(e(), u)) : r.First({ Name: n.Attributes.DataSourceMethod }) && (v = r.First({ Name: n.Attributes.DataSourceMethod }), y = new Function("obj", "return " + v.Value + "(obj);"), f.AddOptions(y(s), h.Value, c.Value, u)) } t.SetBinding = i, t.AttributeValue = r, t.Cascade = u, t.OnChange = f, t.Checked = e, t.Radio = o, t.DataSource = s }(n.Set || (n.Set = {})), u = n.Set, n.Execute = f, n.subExecute = e, function (t) { function i(t, i) { var r, u; for (Is.Array(i) ? r = i : (r = [], r.Add(i)), u = 0; u < r.length; u++) n.Grid.AddItem(t, r[u]) } function r(t, i) { var r = t.Wrapper, o = t.First(function (n) { return n.DataObject && Thing.Concat(n.DataObject, r.PrimaryKeys) == Thing.Concat(i, r.PrimaryKeys) }), e, f, u; o ? n.subExecute(o, r) : (e = this.GetListItem(t.Template.style, t.Template.cls, t.Template.innerHTML, i, r), t.HasFooter ? (f = t.First({ LineType: n.Grid.LineTypes.Footer }), r.NewRowBeingAdded && (u = r.NewRowBeingAdded(i), u && (f ? t.insertBefore(u, f) : t.appendChild(u))), f ? t.insertBefore(e, f) : t.appendChild(e)) : (r.NewRowBeingAdded && (u = r.NewRowBeingAdded(i), u && t.appendChild(u)), t.appendChild(e))) } function u(t, i) { var f = i.Wrapper, r, u; f.WebApi && (r = n.Get.BoundElements(t), u = r.First(function (n) { return n.getAttribute("data-binding").toLowerCase() == "insert" }), u && (u.onclick = function () { for (var o = {}, e, s, c, l, h = 0; h < r.length; h++) if (e = r[h], e != u) { s = r[h].getAttribute("data-binding"), c = e.tagName.toLowerCase(); switch (c) { case "input": l = e.type.toLowerCase(); switch (l) { case "checkbox": o[s] = e.checked ? !0 : !1; break; case "radio": o[s] = e.checked ? !0 : !1; break; case "text": case "password": case "hidden": default: o[s] = e.value } break; case "textarea": o[s] = e.value; break; case "select": o[s] = e.value } } f.WebApi.Insert(o, function (r) { t.InsertPosition && t.InsertPosition == "top" || (i.DataObject.push(r), n.Grid.AddItem(i, r)) }, function () { }) })) } function f(t, i) { var e, u, f, r; if (t.Template = t.Template ? t.Template : null, Is.NullOrEmpty(t.Template)) { for (e = t.getElementsByTagName("li"), u = null, f = 0; f < e.length; f++) r = n.Get.TemplateAttributes(e[f]), r.LineType && r.LineType == n.Grid.LineTypes.Template ? (u = e[f], delete r.LineType, delete r.InsertPosition, Is.EmptyObject(r) || (t.Wrapper.RowBinding = n.Get.Attributes(r))) : r.LineType && (r.LineType == n.Grid.LineTypes.Header || r.LineType == n.Grid.LineTypes.Footer) && (e[f].LineType = r.LineType, e[f].InsertPosition = r.InsertPosition, n.Grid.HookInsertTemplate(e[f], t)); u && (t.Template = { style: u.style ? u.style : null, cls: u.className ? u.className : null, innerHTML: u.innerHTML }) } t.Clear(function (n) { return !n.LineType }, !0), t.HasFooter = t.First(function (t) { return t.LineType && t.LineType == n.Grid.LineTypes.Footer }) ? !0 : !1, n.Grid.Add(t, i) } function e(t, i, r, u, f) { var e = "li".CreateElement({ style: t, cls: i, innerHTML: r, DataObject: u }); return n.subExecute(e, f), e } t.LineTypes = { Header: "Header", Footer: "Footer", Template: "Template" }, t.Add = i, t.AddItem = r, t.HookInsertTemplate = u, t.Execute = f, t.GetListItem = e }(n.Grid || (n.Grid = {})), o = n.Grid, n.Load = s }(Binding || (Binding = {})), Bind = Binding.Execute